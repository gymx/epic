---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import PostCard from "../components/PostCard.astro";
const publishedPosts = await getCollection('posts', ({data})=>{
	return data.draft !== true;
});

const title = "Blog";
---

<BaseLayout title={title}>
	<h2>Blog posts--</h2>
		{ publishedPosts.map( (post) => (
			<li>
				<PostCard post = {post} />
			</li>
		))}
	</ul>
</BaseLayout>
